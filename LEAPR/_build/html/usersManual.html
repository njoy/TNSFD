

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Users Manual &mdash; LEAPR  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Quickstart" href="quickstart/index.html" />
    <link rel="prev" title="Suggested Readings" href="theory/suggestedReadings.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: red" >
          

          
            <a href="index.html" class="icon icon-home"> LEAPR
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview/overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="theory/index.html">Theory</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Users Manual</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#breakdown-of-cards">Breakdown of Cards</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#output-file">1 - Output File</a></li>
<li class="toctree-l3"><a class="reference internal" href="#title">2 - Title</a></li>
<li class="toctree-l3"><a class="reference internal" href="#general-run-control">3 - General Run Control</a></li>
<li class="toctree-l3"><a class="reference internal" href="#endf-output-information">4 - ENDF Output Information</a></li>
<li class="toctree-l3"><a class="reference internal" href="#principal-scatterer-information">5 - Principal Scatterer Information</a></li>
<li class="toctree-l3"><a class="reference internal" href="#secondary-scatterer-information">6 - Secondary Scatterer Information</a></li>
<li class="toctree-l3"><a class="reference internal" href="#alpha-beta-input">7 - <span class="math notranslate nohighlight">\(\alpha,\beta\)</span> Input</a></li>
<li class="toctree-l3"><a class="reference internal" href="#alpha-values">8 - <span class="math notranslate nohighlight">\(\alpha\)</span> Values</a></li>
<li class="toctree-l3"><a class="reference internal" href="#beta-values">9 - <span class="math notranslate nohighlight">\(\beta\)</span> Values</a></li>
<li class="toctree-l3"><a class="reference internal" href="#temperature">10 - Temperature</a></li>
<li class="toctree-l3"><a class="reference internal" href="#phonon-distribution-control">11 - Phonon Distribution Control</a></li>
<li class="toctree-l3"><a class="reference internal" href="#phonon-distribution">12 - Phonon Distribution</a></li>
<li class="toctree-l3"><a class="reference internal" href="#translational-control-and-continuout-weight">13 - Translational Control and Continuout Weight</a></li>
<li class="toctree-l3"><a class="reference internal" href="#discrete-oscillator-control">14 - Discrete Oscillator Control</a></li>
<li class="toctree-l3"><a class="reference internal" href="#discrete-oscillator-energies">15 - Discrete Oscillator Energies</a></li>
<li class="toctree-l3"><a class="reference internal" href="#discrete-oscillator-weights">16 - Discrete Oscillator Weights</a></li>
<li class="toctree-l3"><a class="reference internal" href="#static-structure-factor-control">17 - Static Structure Factor Control</a></li>
<li class="toctree-l3"><a class="reference internal" href="#static-structure-factor">18 - Static Structure Factor</a></li>
<li class="toctree-l3"><a class="reference internal" href="#coherent-scattering-fraction">19 - Coherent Scattering Fraction</a></li>
<li class="toctree-l3"><a class="reference internal" href="#comments">20 - Comments</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#structure-of-leapr">Structure of LEAPR</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#example-verbose-temperature-loop">Example - Verbose Temperature Loop</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="quickstart/index.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="codingDetails.html">Coding Details</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">LEAPR</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Users Manual</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/usersManual.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="users-manual">
<h1><a class="toc-backref" href="#id1">Users Manual</a><a class="headerlink" href="#users-manual" title="Permalink to this headline">¶</a></h1>
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#users-manual" id="id1">Users Manual</a></p>
<ul>
<li><p><a class="reference internal" href="#breakdown-of-cards" id="id2">Breakdown of Cards</a></p>
<ul>
<li><p><a class="reference internal" href="#output-file" id="id3">1 - Output File</a></p></li>
<li><p><a class="reference internal" href="#title" id="id4">2 - Title</a></p></li>
<li><p><a class="reference internal" href="#general-run-control" id="id5">3 - General Run Control</a></p></li>
<li><p><a class="reference internal" href="#endf-output-information" id="id6">4 - ENDF Output Information</a></p></li>
<li><p><a class="reference internal" href="#principal-scatterer-information" id="id7">5 - Principal Scatterer Information</a></p></li>
<li><p><a class="reference internal" href="#secondary-scatterer-information" id="id8">6 - Secondary Scatterer Information</a></p></li>
<li><p><a class="reference internal" href="#alpha-beta-input" id="id9">7 - <span class="math notranslate nohighlight">\(\alpha,\beta\)</span> Input</a></p></li>
<li><p><a class="reference internal" href="#alpha-values" id="id10">8 - <span class="math notranslate nohighlight">\(\alpha\)</span> Values</a></p></li>
<li><p><a class="reference internal" href="#beta-values" id="id11">9 - <span class="math notranslate nohighlight">\(\beta\)</span> Values</a></p></li>
<li><p><a class="reference internal" href="#temperature" id="id12">10 - Temperature</a></p></li>
<li><p><a class="reference internal" href="#phonon-distribution-control" id="id13">11 - Phonon Distribution Control</a></p></li>
<li><p><a class="reference internal" href="#phonon-distribution" id="id14">12 - Phonon Distribution</a></p></li>
<li><p><a class="reference internal" href="#translational-control-and-continuout-weight" id="id15">13 - Translational Control and Continuout Weight</a></p></li>
<li><p><a class="reference internal" href="#discrete-oscillator-control" id="id16">14 - Discrete Oscillator Control</a></p></li>
<li><p><a class="reference internal" href="#discrete-oscillator-energies" id="id17">15 - Discrete Oscillator Energies</a></p></li>
<li><p><a class="reference internal" href="#discrete-oscillator-weights" id="id18">16 - Discrete Oscillator Weights</a></p></li>
<li><p><a class="reference internal" href="#static-structure-factor-control" id="id19">17 - Static Structure Factor Control</a></p></li>
<li><p><a class="reference internal" href="#static-structure-factor" id="id20">18 - Static Structure Factor</a></p></li>
<li><p><a class="reference internal" href="#coherent-scattering-fraction" id="id21">19 - Coherent Scattering Fraction</a></p></li>
<li><p><a class="reference internal" href="#comments" id="id22">20 - Comments</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#structure-of-leapr" id="id23">Structure of LEAPR</a></p>
<ul>
<li><p><a class="reference internal" href="#example-verbose-temperature-loop" id="id24">Example - Verbose Temperature Loop</a></p></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="breakdown-of-cards">
<h2><a class="toc-backref" href="#id2">Breakdown of Cards</a><a class="headerlink" href="#breakdown-of-cards" title="Permalink to this headline">¶</a></h2>
<div class="section" id="output-file">
<h3><a class="toc-backref" href="#id3">1 - Output File</a><a class="headerlink" href="#output-file" title="Permalink to this headline">¶</a></h3>
<ol class="loweralpha simple">
<li><p><code class="code docutils literal notranslate"><span class="pre">nout</span></code> - Desired tape number for the LEAPR output file. Must have an absolute value between 20 and 99 inclusively. Can be positive (ASCII) or negative (binary). For example, “24” will correspond to the thermal scattering file being written to “tape24”.</p></li>
</ol>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>In NJOY, unit numbers from 20 through 99 are used for storing results or linking modules, units 10 through 19 are reserved for scratch files, which will be destroyed after a module has completed its job, and units below 10 are reserved for the system. Negative unit numbers indicate binary mode.</p>
</div>
</div></blockquote>
</div>
<div class="section" id="title">
<h3><a class="toc-backref" href="#id4">2 - Title</a><a class="headerlink" href="#title" title="Permalink to this headline">¶</a></h3>
<ol class="loweralpha simple">
<li><p><code class="code docutils literal notranslate"><span class="pre">title</span></code> - Used to label the input deck and the output listing for the user’s convenience. The title string does not go into the output ENDF file.</p></li>
</ol>
</div>
<div class="section" id="general-run-control">
<h3><a class="toc-backref" href="#id5">3 - General Run Control</a><a class="headerlink" href="#general-run-control" title="Permalink to this headline">¶</a></h3>
<ol class="loweralpha simple">
<li><p><code class="code docutils literal notranslate"><span class="pre">ntempr</span></code> [<strong>default = 1</strong>] - Number of temperatures</p></li>
</ol>
<ol class="loweralpha" start="2">
<li><p><code class="code docutils literal notranslate"><span class="pre">iprint</span></code> [<strong>default = 1</strong>] - Print control.</p>
<dl>
<dt>Possible values include:</dt><dd><p>0 - Minimal verbosity</p>
<p>1 - Standard verbosity</p>
<p>2 - Most verbose</p>
</dd>
</dl>
</li>
<li><p><code class="code docutils literal notranslate"><span class="pre">nphon</span></code> [<strong>default = 100</strong>] - Phonon-expansion order. All LEAPR runs include a <a class="reference internal" href="theory/inelastic/continuous.html#continuous-solid-type"><span class="std std-ref">continuous, solid-type calculation</span></a> which uses the phonon expansion method to generate a scattering law. This dictates the upper limit of the phonon expansion sum.</p></li>
</ol>
</div>
<div class="section" id="endf-output-information">
<h3><a class="toc-backref" href="#id6">4 - ENDF Output Information</a><a class="headerlink" href="#endf-output-information" title="Permalink to this headline">¶</a></h3>
<ol class="loweralpha">
<li><p><code class="code docutils literal notranslate"><span class="pre">mat</span></code> - ENDF material identification number. These numbers are available according to the ENDF standards. For convenience, they are summarized [LINK TO THERMAL SCATTERING PAGE].</p>
<dl class="simple">
<dt>Restrictions include:</dt><dd><p>Values corresponding to materials in the ENDF format.</p>
</dd>
</dl>
</li>
<li><p><code class="code docutils literal notranslate"><span class="pre">za</span></code> - <span class="math notranslate nohighlight">\(1000*z+a\)</span> for the principal scatterer, where <span class="math notranslate nohighlight">\(z\)</span> is the atomic number and <span class="math notranslate nohighlight">\(a\)</span> is the mass number.</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">isabt</span></code> [<strong>default = 0</strong>] - Flag indicating whether to output the non-symmetric or symmetric scattering law.</p>
<dl>
<dt>Possible values include:</dt><dd><p>0 - Non-symmetric</p>
<p>1 - Symmetric</p>
</dd>
</dl>
</li>
<li><p><code class="code docutils literal notranslate"><span class="pre">ilog</span></code> [<strong>default = 0</strong>] - Flag indicating whether to output <span class="math notranslate nohighlight">\(S(\alpha,\beta)\)</span> or <span class="math notranslate nohighlight">\(\mathrm{log}_{10}[S(\alpha,\beta)]\)</span>. Giving the log of the scattering law is the ENDF-sanctioned way of handling very small numbers in File 7.</p>
<dl>
<dt>Possible values include:</dt><dd><p>0 - <span class="math notranslate nohighlight">\(S(\alpha,\beta)\)</span></p>
<p>1 - <span class="math notranslate nohighlight">\(\mathrm{log}[S(\alpha,\beta)]\)</span></p>
</dd>
</dl>
</li>
<li><p><code class="code docutils literal notranslate"><span class="pre">smin</span></code> [<strong>default = 1e-75</strong>] - Scattering law values lower than this will be set to 0.0. Only invoked if <code class="code docutils literal notranslate"><span class="pre">ilog=0</span></code>.</p></li>
</ol>
</div>
<div class="section" id="principal-scatterer-information">
<h3><a class="toc-backref" href="#id7">5 - Principal Scatterer Information</a><a class="headerlink" href="#principal-scatterer-information" title="Permalink to this headline">¶</a></h3>
<p>The “principal scatterer” may be hard to select for materials. For <span class="math notranslate nohighlight">\(\mbox{H}_2\mbox{O}\)</span>, it’s <span class="math notranslate nohighlight">\(\mbox{H}\)</span>. For <span class="math notranslate nohighlight">\(\mbox{ZrH}\)</span>, it would be <span class="math notranslate nohighlight">\(H\)</span> for <code class="code docutils literal notranslate"><span class="pre">mat=7</span></code> and <span class="math notranslate nohighlight">\(\mbox{Zr}\)</span> for <code class="code docutils literal notranslate"><span class="pre">mat=58</span></code>. For mixed moderators like <span class="math notranslate nohighlight">\(\mbox{BeO}\)</span>, it is typically the lighter material.</p>
<ol class="loweralpha">
<li><p><code class="code docutils literal notranslate"><span class="pre">awr</span></code> - Atomic weight ratio between the neturon and the principal scatterer.</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">spr</span></code> - Free atom cross section for preincipal scatterer (in units of barns). This value should be chosen by looking at the low-energy limit for MF=3/MT=2 (elastic scattering) on the neutron file to be used with the new evaluation.</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">npr</span></code> - Number of principal scattering atoms in the compound. This would be 2 for <span class="math notranslate nohighlight">\(\mbox{H}_2\mbox{O}\)</span>, and 1 for <span class="math notranslate nohighlight">\(\mbox{BeO}\)</span>.</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">iel</span></code> [<strong>default = 0</strong>] - Coherent elastic options. This should typically be equal to 0, except for solid moderators. Currently, only five materials are supported (listed below).</p>
<dl>
<dt>Possible values include:</dt><dd><p>0 - None (default)</p>
<p>1 - Graphite</p>
<p>2 - Beryllium</p>
<p>3 - Beryllium Oxide</p>
<p>4 - Aluminum (FCC)</p>
<p>5 - Lead (FCC)</p>
<p>6 - Iron (BCC)</p>
</dd>
</dl>
</li>
<li><p><code class="code docutils literal notranslate"><span class="pre">ncold</span></code> [<strong>default = 0</strong>] - Cold hydrogen option. This should be set to 0 except when liquid hydrogen or liquid deuterium is considered.</p>
<dl>
<dt>Possible values include:</dt><dd><p>0 - None (default)</p>
<p>1 - Ortho Hydrogen</p>
<p>2 - Para Hydrogen</p>
<p>3 - Ortho Deuterium</p>
<p>4 - Para Deutrerium</p>
</dd>
</dl>
</li>
</ol>
<ol class="loweralpha" start="4">
<li><p><code class="code docutils literal notranslate"><span class="pre">nsk</span></code> [<strong>default = 0 (none)</strong>] - This should be set to 0 unless representation of intermolecular interference is desired. If <code class="code docutils literal notranslate"><span class="pre">nsk</span></code> is set to 1 or 2, Cards 17-19 will be required.</p>
<dl>
<dt>Possible values include:</dt><dd><p>0 - None (default)</p>
<p>1 - Vineyard</p>
<p>2 - Skold</p>
</dd>
</dl>
</li>
</ol>
</div>
<div class="section" id="secondary-scatterer-information">
<h3><a class="toc-backref" href="#id8">6 - Secondary Scatterer Information</a><a class="headerlink" href="#secondary-scatterer-information" title="Permalink to this headline">¶</a></h3>
<p>Note that if you only have a principal scatterer and no secondary scatterers, Card 6 entry line should simply consist of <code class="code docutils literal notranslate"><span class="pre">0/</span></code>.</p>
<ol class="loweralpha">
<li><p><code class="code docutils literal notranslate"><span class="pre">nss</span></code> - Number of secondary scatterers</p>
<dl>
<dt>Possible values include:</dt><dd><p>0 - No secondary scatterers</p>
<p>1 - 1 secondary scatterer type</p>
</dd>
</dl>
</li>
<li><p><code class="code docutils literal notranslate"><span class="pre">b7</span></code> - Flag indicating the treatment that will be applied to the secondary scatterer.</p>
<dl>
<dt>Possible values include:</dt><dd><blockquote>
<div><p>0 - SCT approximation. This is most suitable for mixed moderators such as BeO and Benzine. In these cases, the entire scattering law for the molecule is provideded in MF=7/MT=4, and is intended to be used with the neutron file for the primary scatterer. The secondary scatterer’s cross section, atomic weight ratio, and effective temperature are only used for extrending the scattering law with the SCT approximation.</p>
<p>1 - Free gas approximation.</p>
<p>2 - Diffusion Model</p>
</div></blockquote>
<p>When <code class="code docutils literal notranslate"><span class="pre">b7</span></code> is 1 or 2, only the scattering law for the primary scatterer is given, and the effects of the secondary scatterer are to be included later using an analytic law.</p>
</dd>
</dl>
</li>
<li><p><code class="code docutils literal notranslate"><span class="pre">aws</span></code> - Atomic weight ratio between the neturon and the secondary scatterer.</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">sps</span></code> - Free atom cross section for the secondary scatterer (units of barns).</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">mss</span></code> -  Number of secondary scatter atoms of this type in the compound. For <span class="math notranslate nohighlight">\(\mbox{H}_2\mbox{O}\)</span>, the secondary scatterer would be <span class="math notranslate nohighlight">\(\mbox{O}\)</span> and <code class="code docutils literal notranslate"><span class="pre">mss</span></code> would be equal to 1.</p></li>
</ol>
</div>
<div class="section" id="alpha-beta-input">
<h3><a class="toc-backref" href="#id9">7 - <span class="math notranslate nohighlight">\(\alpha,\beta\)</span> Input</a><a class="headerlink" href="#alpha-beta-input" title="Permalink to this headline">¶</a></h3>
<ol class="loweralpha simple">
<li><p><code class="code docutils literal notranslate"><span class="pre">nalpha</span></code> - Number of <span class="math notranslate nohighlight">\(\alpha\)</span> values that will be provided in Card 9</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">nbeta</span></code> - Number of <span class="math notranslate nohighlight">\(\beta\)</span> values that will be provided in Card 8</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">lat</span></code> [<strong>default=0</strong>] - Flag that indicates whether the <span class="math notranslate nohighlight">\(\alpha\)</span> and <span class="math notranslate nohighlight">\(\beta\)</span> values are scaled by <span class="math notranslate nohighlight">\(0.0253/k_bT\)</span>, where <span class="math notranslate nohighlight">\(k_bT\)</span> is the temperature in eV.</p></li>
</ol>
<p>In the ENDF thermal format, the values for <span class="math notranslate nohighlight">\(S(\alpha,\beta)\)</span> for higher temperatures are given on the same <span class="math notranslate nohighlight">\(\alpha\)</span> and <span class="math notranslate nohighlight">\(\beta\)</span> grids as is provided for the base temperature. However, <span class="math notranslate nohighlight">\(\alpha\)</span> and <span class="math notranslate nohighlight">\(\beta\)</span> are inversely proportional to temperature, so for high temperatures only the smaller <span class="math notranslate nohighlight">\(\alpha\)</span> and <span class="math notranslate nohighlight">\(\beta\)</span> values would be seen. This is a waster of space on the ENDF evaluation, so using a <code class="code docutils literal notranslate"><span class="pre">lat</span></code> value of 1 would spread the scattering law values for higher temperatures out, thereby giving a more accurate representation.</p>
</div>
<div class="section" id="alpha-values">
<h3><a class="toc-backref" href="#id10">8 - <span class="math notranslate nohighlight">\(\alpha\)</span> Values</a><a class="headerlink" href="#alpha-values" title="Permalink to this headline">¶</a></h3>
<p><span class="math notranslate nohighlight">\(\alpha\)</span> values are provided here in increasing order.</p>
<blockquote>
<div><dl class="simple">
<dt>Restrictions include:</dt><dd><p>The number of <span class="math notranslate nohighlight">\(\alpha\)</span> values provided must match the <code class="code docutils literal notranslate"><span class="pre">nalpha</span></code> input from Card 7.</p>
</dd>
</dl>
</div></blockquote>
</div>
<div class="section" id="beta-values">
<h3><a class="toc-backref" href="#id11">9 - <span class="math notranslate nohighlight">\(\beta\)</span> Values</a><a class="headerlink" href="#beta-values" title="Permalink to this headline">¶</a></h3>
<p><span class="math notranslate nohighlight">\(\beta\)</span> values are provided here in increasing order.</p>
<blockquote>
<div><dl class="simple">
<dt>Restrictions include:</dt><dd><p>The number of <span class="math notranslate nohighlight">\(\beta\)</span> values provided must match the <code class="code docutils literal notranslate"><span class="pre">nbeta</span></code> input from Card 7.</p>
</dd>
</dl>
</div></blockquote>
</div>
<div class="section" id="temperature">
<h3><a class="toc-backref" href="#id12">10 - Temperature</a><a class="headerlink" href="#temperature" title="Permalink to this headline">¶</a></h3>
<p>For inputs with more than one temperature (<code class="code docutils literal notranslate"><span class="pre">ntempr</span></code> <span class="math notranslate nohighlight">\(&gt;0\)</span>), LEAPR uses a temperature loop, where Cards 10-18 are repeated for each temperature. Further explanaion of the temperature loop is provided below.</p>
<p>For a given iteration in this temperature loop, Card 10 consists solely of the temperature in Kelvin.</p>
</div>
<div class="section" id="phonon-distribution-control">
<h3><a class="toc-backref" href="#id13">11 - Phonon Distribution Control</a><a class="headerlink" href="#phonon-distribution-control" title="Permalink to this headline">¶</a></h3>
<p>The phonon distribution for the continuous, solid-type spectrum treatment is provided on an equally-spaced grid.</p>
<ol class="loweralpha simple">
<li><p><code class="code docutils literal notranslate"><span class="pre">delta</span></code> - Spacing of the phonon distribution (ev). Since the phonon distribution is provided on an equally spaced grid, this is a single value.</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">ni</span></code> - Number of phonon distribution values that will be provided on Card 12.</p></li>
</ol>
</div>
<div class="section" id="phonon-distribution">
<h3><a class="toc-backref" href="#id14">12 - Phonon Distribution</a><a class="headerlink" href="#phonon-distribution" title="Permalink to this headline">¶</a></h3>
<p>The phonon distribution is provided here. The phonon distribution does not need to be normalized, it will be normalized by LEAPR to the continuous, solid-type weight <span class="math notranslate nohighlight">\(\omega_s\)</span>.</p>
<blockquote>
<div><dl class="simple">
<dt>Restrictions include:</dt><dd><p>This distribution must be provided on an equally spaced grid, with the energy spacing equal to <code class="code docutils literal notranslate"><span class="pre">delta</span></code> from Card 11.
The number of values provided here must match the <code class="code docutils literal notranslate"><span class="pre">ni</span></code> input from Card 11.</p>
</dd>
</dl>
</div></blockquote>
</div>
<div class="section" id="translational-control-and-continuout-weight">
<h3><a class="toc-backref" href="#id15">13 - Translational Control and Continuout Weight</a><a class="headerlink" href="#translational-control-and-continuout-weight" title="Permalink to this headline">¶</a></h3>
<p>As mentioned in <a class="reference internal" href="theory/index.html#inelastic-scattering"><span class="std std-ref">Inelastic Scattering</span></a>, the phonon distribution is separated into a continuous contribution, and optional translational contribution, and an arbitrary number of discrete oscillators.</p>
<ol class="loweralpha">
<li><p><code class="code docutils literal notranslate"><span class="pre">twt</span></code> - Weight for the translational/diffusive contribution (<span class="math notranslate nohighlight">\(\omega_t\)</span>)</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">c</span></code> - Diffusion constant for translational component.</p>
<blockquote>
<div><dl>
<dt>Notes:</dt><dd><p>If <code class="code docutils literal notranslate"><span class="pre">twt</span></code> is equal to zero, <code class="code docutils literal notranslate"><span class="pre">c</span></code> can be set to zero</p>
<p>If <code class="code docutils literal notranslate"><span class="pre">twt</span></code> is greater than zero, then a setting <code class="code docutils literal notranslate"><span class="pre">c</span></code> to zero corresponds to a free gas translational calculation.</p>
</dd>
</dl>
</div></blockquote>
</li>
<li><p><code class="code docutils literal notranslate"><span class="pre">tbeta</span></code> - Weight for the continuous, solid-type spectrum (<span class="math notranslate nohighlight">\(\omega_s\)</span>).</p></li>
</ol>
<dl class="simple">
<dt>Restrictions include:</dt><dd><p>The translational weight <code class="code docutils literal notranslate"><span class="pre">twt</span></code>, the continuous, solid-type weight <code class="code docutils literal notranslate"><span class="pre">tbeta</span></code>, and the discrete oscillator weights (Card 14) must sum to 1.0.</p>
</dd>
</dl>
</div>
<div class="section" id="discrete-oscillator-control">
<h3><a class="toc-backref" href="#id16">14 - Discrete Oscillator Control</a><a class="headerlink" href="#discrete-oscillator-control" title="Permalink to this headline">¶</a></h3>
<p><code class="code docutils literal notranslate"><span class="pre">nd</span></code> - Number of discrete oscillators desired</p>
</div>
<div class="section" id="discrete-oscillator-energies">
<h3><a class="toc-backref" href="#id17">15 - Discrete Oscillator Energies</a><a class="headerlink" href="#discrete-oscillator-energies" title="Permalink to this headline">¶</a></h3>
<p>Energy locations (in eV) for the discrete oscillators.</p>
<dl class="simple">
<dt>Restrictions include:</dt><dd><p>Must be <code class="code docutils literal notranslate"><span class="pre">nd</span></code> entries here.</p>
</dd>
</dl>
</div>
<div class="section" id="discrete-oscillator-weights">
<h3><a class="toc-backref" href="#id18">16 - Discrete Oscillator Weights</a><a class="headerlink" href="#discrete-oscillator-weights" title="Permalink to this headline">¶</a></h3>
<p>Weights of the discrete oscillators.</p>
<dl>
<dt>Restrictions include:</dt><dd><p>Must be <code class="code docutils literal notranslate"><span class="pre">nd</span></code> entries here.</p>
<p>The translational weight <code class="code docutils literal notranslate"><span class="pre">twt</span></code>, the continuous, solid-type weight <code class="code docutils literal notranslate"><span class="pre">tbeta</span></code> (Card 13), and the discrete oscillator weights here must sum to 1.0.</p>
</dd>
</dl>
</div>
<div class="section" id="static-structure-factor-control">
<h3><a class="toc-backref" href="#id19">17 - Static Structure Factor Control</a><a class="headerlink" href="#static-structure-factor-control" title="Permalink to this headline">¶</a></h3>
<p>This card is only given for liquid hydrogen or liquid deuterium cases. It controls the entry of the pair-correlation function used to account for intermolecular interference at very low neutron energies.</p>
<ol class="loweralpha simple">
<li><p><code class="code docutils literal notranslate"><span class="pre">nka</span></code> - Number of <span class="math notranslate nohighlight">\(S(\kappa)\)</span> values that will be provided on Card 18.</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">dka</span></code> - <span class="math notranslate nohighlight">\(\kappa\)</span> spacing for the <span class="math notranslate nohighlight">\(S(\kappa)\)</span> entry on Card 18.</p></li>
</ol>
<dl class="simple">
<dt>Restrictions include:</dt><dd><p>Note that <code class="code docutils literal notranslate"><span class="pre">dka</span></code> is in units of inverse Angstrom</p>
</dd>
</dl>
</div>
<div class="section" id="static-structure-factor">
<h3><a class="toc-backref" href="#id20">18 - Static Structure Factor</a><a class="headerlink" href="#static-structure-factor" title="Permalink to this headline">¶</a></h3>
<p>Static structure factor (pair correlation function) <span class="math notranslate nohighlight">\(S(\kappa)\)</span> is provided here.</p>
<dl>
<dt>Restrictions include:</dt><dd><p>These values should correspond to an equally spaced, increasing <span class="math notranslate nohighlight">\(\kappa\)</span> grid.</p>
<p><span class="math notranslate nohighlight">\(\kappa\)</span> is in units of inverse Angstrom.</p>
</dd>
</dl>
</div>
<div class="section" id="coherent-scattering-fraction">
<h3><a class="toc-backref" href="#id21">19 - Coherent Scattering Fraction</a><a class="headerlink" href="#coherent-scattering-fraction" title="Permalink to this headline">¶</a></h3>
<p><code class="code docutils literal notranslate"><span class="pre">cfrac</span></code> - Coherent scattering fraction. This is only invoked if <code class="code docutils literal notranslate"><span class="pre">nsk</span></code> from Card 5 is equal to 2.</p>
</div>
<div class="section" id="comments">
<h3><a class="toc-backref" href="#id22">20 - Comments</a><a class="headerlink" href="#comments" title="Permalink to this headline">¶</a></h3>
<p>The final section of the input deck gives the new comment cards to be added to the section MF=1/MT=451 on the ENDF file generated by LEAPR. If this section is to be a part of a standard library like ENDF/B-VII, there are standard fields that must appear. An example of the appearance of such a formal section will be found in the graphite example below. Note that the comment cards are terminated by an empty card; the number of cards entered is counted by LEAPR.</p>
</div>
</div>
<div class="section" id="structure-of-leapr">
<h2><a class="toc-backref" href="#id23">Structure of LEAPR</a><a class="headerlink" href="#structure-of-leapr" title="Permalink to this headline">¶</a></h2>
<p>The general structure of the LEAPR source code is displayed below. This is not only helpful for understanding the code itself, but also in understanding the input formats.</p>
<div class="highlight-none notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 0
 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60</pre></div></td><td class="code"><div class="highlight"><pre><span></span>
----------------------------------------------------------
Read General Input Data
----------------------------------------------------------

<span class="hll">Read in Cards 1-9 
</span>

Begin Principal Scattering Calculation
===========================================

Temperature loop (do ntemp (# temperatures, Card 3) iterations:

    ----------------------------------------------------------
    Read Input Data  
    ----------------------------------------------------------

<span class="hll">    Read temperature from Card 10
</span>
    If this is first temperature, or if temperature &gt; 0:

<span class="hll">        Read Cards 11 - 14
</span>
        if nd (# discrete oscillators) from Card 14 &gt; 0:
<span class="hll">            Read Cards 15 - 16
</span>
        if nsk    (molecular interference flag,  Card 5) &gt; 0 or 
            ncold (cold hydrogen/deuterium flag, Card 5) &gt; 0:
<span class="hll">            Read Cards 17 - 18
</span>
        if nsk    (molecular interference flag,  Card 5) &gt; 0:
<span class="hll">            Read Card 19
</span>
    End If Statement


    ----------------------------------------------------------
    Perform Calculations
    ----------------------------------------------------------

    Perform Continuous Calculation
    If twt (translational weight,  Card 13) &gt; 0:
        Perform translational/diffusive calculation

    If nd (# discrete oscillators, Card 14) &gt; 0:
        Perform discrete oscillator calculation

    If ncold (cold hydrogen/deuterium flag, Card 5) &gt; 0:
        Perform cold hydrogen/deuterium calculation

    Else if nsk (molecular interference flag, Card 5) == 2:
        Perform Skold calculation

End Temperature Loop


If nss (number of secondary scatterers, Card 6) &gt; 0 and 
   b7  (secondary scatterer type,       Card 6) == 0 (SCT treatment):
   Repeat temperature loop for secondary scatterer
   ================================================

</pre></div>
</td></tr></table></div>
<p>There are a number of inputs that have the potential to change the structure of the LEAPR input file. We will walk through the ways in which the structure of the input file may vary according to calculations performed.</p>
<p>The inputs that can alter the format of the input file are</p>
<blockquote>
<div><table class="docutils align-default">
<colgroup>
<col style="width: 46%" />
<col style="width: 29%" />
<col style="width: 25%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Trait</p></th>
<th class="head"><p>Dictated by…</p></th>
<th class="head"><p>Affects…</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Multiple Temperatures</p></td>
<td><p><code class="code docutils literal notranslate"><span class="pre">ntempr</span></code></p></td>
<td><p>Cards 10-19</p></td>
</tr>
<tr class="row-odd"><td><p>Discrete Oscillators</p></td>
<td><p><code class="code docutils literal notranslate"><span class="pre">nd</span></code></p></td>
<td><p>Cards 14-15</p></td>
</tr>
<tr class="row-even"><td><p>Molecular Interference</p></td>
<td><p><code class="code docutils literal notranslate"><span class="pre">nsk</span></code></p></td>
<td><p>Cards 18-19</p></td>
</tr>
<tr class="row-odd"><td><p>Cold Hydrogen/Deuterium</p></td>
<td><p><code class="code docutils literal notranslate"><span class="pre">ncold</span></code></p></td>
<td><p>Card  18</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
<div class="section" id="example-verbose-temperature-loop">
<h3><a class="toc-backref" href="#id24">Example - Verbose Temperature Loop</a><a class="headerlink" href="#example-verbose-temperature-loop" title="Permalink to this headline">¶</a></h3>
<p>This example is a simplification of the “tsl-HinH2O.leapr” example from the ENDF-B/VIII.0 Thermal Scattering sublibrary. This example has been greatly simplified, and is intended only for instructional purposes.</p>
<p>In this example, three temperatures are desired: 283.6 K, 350 K, and 600 K. The temperature loop (Cards 10-19) may be repeated in the input file. After the first iteration of the temperature loop, the any subsequent temperatures may be input as negative values to indicate that Cards 111-19 will be identical as the earlier values provided. In this example, we will not use this feature, but will rather provide Cards 11-19 separately for each temperature (hence the title, “verbose”).</p>
<p>This water input uses discrete oscillators to represent two high energy peaks in the phonon distribution, so <code class="code docutils literal notranslate"><span class="pre">nd</span></code> from Card 14 is greater than 1. When this occurs, Cards 15-16 must be provided to detail the locations and weights of these oscillators.</p>
<p>If both molecular interference and cold-hydrogen/deuterium options are not used, then Cards 17-19 are not necessary, and can be omitted.</p>
<p>To summarize,</p>
<blockquote>
<div><table class="docutils align-default">
<colgroup>
<col style="width: 41%" />
<col style="width: 17%" />
<col style="width: 42%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Trait</p></th>
<th class="head"><p>Present?</p></th>
<th class="head"><p>Effect</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Multiple Temperatures</p></td>
<td><p>Yes</p></td>
<td><p>Cards 10-19 get repeated</p></td>
</tr>
<tr class="row-odd"><td><p>Discrete Oscillators</p></td>
<td><p>Yes</p></td>
<td><p>Cards 15-16 are used</p></td>
</tr>
<tr class="row-even"><td><p>Molecular Interference</p></td>
<td><p>No</p></td>
<td><p>No Cards 17-18</p></td>
</tr>
<tr class="row-odd"><td><p>Cold Hydrogen/Deuterium</p></td>
<td><p>No</p></td>
<td><p>No Cards 17-19</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
<div class="highlight-none notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 0
 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47</pre></div></td><td class="code"><div class="highlight"><pre><span></span>leapr
24                                 / Card 1  NOUT
&#39;H in H2O, Simplified&#39;             / Card 2  TITLE
3 2 200                            / Card 3  NTEMPR IPRINT IPHON
1 1001 0 0 2E-38                   / Card 4  MAT ZA ISABT ILOG SMIN
0.9991673 20.43608 2 0 0 0         / Card 5  AWR SPR NPR IEL NCOLD NSK
1 1 15.85751 3.7939 1              / Card 6  NSS B7 AWS SPS MSS
3 4  1                             / Card 7  NALPHA NBETA LAT
0.1 1.0 10.0                       / Card 8  ALPHA 
0.0 0.5  5.0 15.0                  / Card 9  BETA 
283.6                              / Card 10 TEMP #1
0.00785631 19                      / Card 11 DELTA NI
0.          1.83186463 1.276404   1.80192953 
2.33194447 2.36821321 3.68076032 6.15402321 
8.34570742 8.39010968 7.36513889 6.19696647 
5.09384889 4.00022284 3.091738   1.94056432 
0.96177264 0.61926568 0.49744076   / Card 12 RHO (phonon dist. for 283.6 K)
6.9210E-03 3.5910E+00 5.2308E-01   / Card 13 TWT C TBETA  
2                                  / Card 14 ND      
2.0500E-01 4.1500E-01              / Card 15 OSC_ENERGIES
1.5667E-01 3.1333E-01              / Card 16 OSC_WEIGHTS
350                                / Card 10 TEMP #2
0.00785631 19                      / Card 11 DELTA NI
0.          1.87576674 1.84489684 2.39642363 
3.02754121 3.66870753 5.123903   6.83786684 
7.60033321 7.32040053 6.48581042 5.55441042
4.53404163 3.56052758 2.71100179 1.72857116 
1.01895812 0.71492591 0.57603389   / Card 12 RHO (phonon dist. for 350 K)
1.1100E-02 8.1874E+00 5.1890E-01   / Card 13 TWT C TBETA  
2                                  / Card 14 ND      
2.0500E-01 4.1500E-01              / Card 15 OSC_ENERGIES 
1.5667E-01 3.1333E-01              / Card 16 OSC_WEIGHTS
600                                / Card 10 TEMP #3
0.008293 19                        / Card 11 DELTA NI
0.         3.13156911 4.38501533 5.87480933 
6.77988778 7.04755456 6.703251   6.01895511 
5.14559156 4.281869   3.43153311 2.58251711
1.77168    1.22080189 0.90367994 0.72159883 
0.61244529 0.55522773 0.5458042    / Card 12 RHO (phonon dist. for 600 K) 
2.3840E-02 2.6832E+01 5.0616E-01   / Card 13 TWT C TBETA  
2                                  / Card 14 ND      
2.0500E-01 4.1500E-01              / Card 15 OSC_ENERGIES
1.5667E-01 3.1333E-01              / Card 15 OSC_WEIGHTS
&#39; Now that we have completed our temperature &#39;
&#39; loop for all three temperatures, we can    &#39;
&#39; relax and write comments in these lines    &#39;
/
stop
</pre></div>
</td></tr></table></div>
<p>Let’s walk through what is happening. First, as always, Cards 1-9 are read. These cards will never be repeated for a single LEAPR run.</p>
<div class="highlight-none notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>0
1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span>leapr
24                                 / Card 1  NOUT
&#39;H in H2O, Simplified&#39;             / Card 2  TITLE
3 2 200                            / Card 3  NTEMPR IPRINT IPHON
1 1001 0 0 2E-38                   / Card 4  MAT ZA ISABT ILOG SMIN
0.9991673 20.43608 2 0 0 0         / Card 5  AWR SPR NPR IEL NCOLD NSK
1 1 15.85751 3.7939 1              / Card 6  NSS B7 AWS SPS MSS
3 4  1                             / Card 7  NALPHA NBETA LAT
0.1 1.0 10.0                       / Card 8  ALPHA 
0.0 0.5  5.0 15.0                  / Card 9  BETA 
</pre></div>
</td></tr></table></div>
<p>Note that in these first nine cards, we specify that we will be wanting scattering data for three temperature (<code class="code docutils literal notranslate"><span class="pre">ntempr</span></code> (Card 3) is 3), that we need no molecular interference or cold hydrogen/deuterium consideration (<code class="code docutils literal notranslate"><span class="pre">nsk</span></code> and <code class="code docutils literal notranslate"><span class="pre">ncold</span></code> (Card 5) are zero).</p>
<p>Let’s now go through our first temperature loop:</p>
<div class="highlight-none notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>10
11
12
13
14
15
16
17
18
19
20</pre></div></td><td class="code"><div class="highlight"><pre><span></span>283.6                              / Card 10 TEMP #1
0.00785631 19                      / Card 11 DELTA NI
0.          1.83186463 1.276404   1.80192953 
2.33194447 2.36821321 3.68076032 6.15402321 
8.34570742 8.39010968 7.36513889 6.19696647 
5.09384889 4.00022284 3.091738   1.94056432 
0.96177264 0.61926568 0.49744076   / Card 12 RHO (phonon dist. for 283.6 K)
6.9210E-03 3.5910E+00 5.2308E-01   / Card 13 TWT C TBETA  
2                                  / Card 14 ND      
2.0500E-01 4.1500E-01              / Card 15 OSC_ENERGIES
1.5667E-01 3.1333E-01              / Card 16 OSC_WEIGHTS
</pre></div>
</td></tr></table></div>
<p>We specify the temperature on Card 10 (since this is the first iteration, the temperature must be posibtively valued here). The phonon distribution for the continuous calculation is provided on Cards 11-12, and the translational/diffusive parameters are provided on Card 13.</p>
<p>Card 14 shows <code class="code docutils literal notranslate"><span class="pre">nd</span></code> equal to two, meaning that we have to account for two discrete oscillators. The existence of oscillators mandates the use of Cards 15-16, since that’s where the oscillator positions/weights are specified.</p>
<p>Note that while technically the temperature loop extends from Card 10 to Card 19, Cards 17-19 are not used because they are useful for molecular interference / cold hydrogen, neither of which are necessary due to the aforementioned Card 5 inputs.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="quickstart/index.html" class="btn btn-neutral float-right" title="Quickstart" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="theory/suggestedReadings.html" class="btn btn-neutral float-left" title="Suggested Readings" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright copyright stuff

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>